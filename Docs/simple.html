<!DOCTYPE html>
<html>
    <head>
        <title>Locate for MooTools</title>
		<meta name="viewport" content="width = device-width">
        <script type="text/javascript" src="mootools-core.js"></script>
		<script src="http://maps.google.com/maps?file=api&amp;v=2&amp;key=INSERT-KEY-HERE" type="text/javascript"></script>
        <script type="text/javascript" src="../Source/Locate.js"></script>
        <script type="text/javascript" src="../Source/Locate.Extras.js"></script>
    </head>
    <body>
    	
    	<h2 id="device"></h2>
        Error Log: <span id="error"></span><br>
        Coord: <span id="coord"></span><br>
        Accuracy: <span id="accur"></span> m<br>
        Heading: <span id="head"></span>&deg; (<span id="carddir"></span>)<br>
        Speed: <span id="speed"></span> m/s<br>
        Altitude: <span id="altitude"></span> m<br>
        Altitude Accuracy: <span id="altitudea"></span> m<br>
        Distance: <span id="distance"></span> km<br>
        Address: <span id="address"></span><br>
        
        
        <script type="text/javascript">
            mtlocate = new Locate({
                loi: true,
                loiType: 'watch',
                onError: function(error){
                    $("device").set('html', Browser.Engine.name + " " + Browser.Engine.version + " " + Browser.Platform.name);
                    $("error").set('html', $("error").get('html')+error+"<br>");
                },
                onLocate: function(position){
                    this.address();
                    $("device").set('html', Browser.Engine.name + " " + Browser.Engine.version + " " + Browser.Platform.name);
                    $("coord").set('html', position.latitude+", "+position.longitude);
                    $("accur").set('html', position.accuracy);
                    $("head").set('html', position.heading);
                    $("carddir").set('html', position.cardinalDirection);
                    $("speed").set('html', position.speed);
                    $("altitude").set('html', position.altitude);
                    $("altitudea").set('html', position.altitudeAccuracy);
                    $("distance").set('html', this.distanceTo(37.3316591,-122.0301778)); // Infinite Loop
                    $("address").set('html', position.address);
                }
            });
        </script>
    
    </body>
</html>